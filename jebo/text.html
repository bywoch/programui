
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="euc-kr">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>제보하기 | iMBC</title>
    <link href="http://www.imbc.com/commons/2018/css/sub-common.css" rel="stylesheet" type="text/css">
    <link href="http://www.imbc.com/commons/2018/css/slick.css" rel="stylesheet" type="text/css">
    <link href="../css/common.css" rel="stylesheet" type="text/css">
    <link href="../css/sub.css" rel="stylesheet" type="text/css">
    <script src="http://www.imbc.com/commons/libs/jquery-1.12.3.min.js"></script>
    <script src="http://www.imbc.com/commons/2018/js/common.js"></script>
    <script src="http://www.imbc.com/commons/2018/js/slick.min.js"></script>
    <script src="http://www.imbc.com/common/js/global_function.js"></script>
    <script src="../js/common.js"></script>
    <!--[if lt IE 9]><script src="http://www.imbc.com/commons/libs/html5shiv.min.js" type="text/javascript"></script><![endif]-->
</head>
<body>
    <div id="accessibility">
        <a href="#container">본문 바로가기</a>
        <a href="#proNav">프로그램 메뉴 바로가기</a>
    </div>
    <div id="wrap">
        <div id="header">
            <!-- 헤더, 네비 -->
            <div class="nav wrapper">
                <!-- 네비게이션 -->
            </div>
        </div>
        <div id="container">
            <div class="wrap_program">
                <!-- 티저 심플형 -->
                <section class="sc_type1">
                    <!-- head html -->
                </section>
                <section class="sc_nav" id="proNav">
                    <h3 class="blind">프로그램 메뉴</h3>   
                    <!-- navi -->
                </section>
                <section class="sub_cont">
                    <h3>제보하기</h3>
                    <div class="wrap_jebo">
                        <!-- 텍스트형 -->
                        <div class="jebo_txt" style="color: #000">
                            <p class="tit"><strong>&lt;PD수첩&gt;</strong>에서는 <br>여러분의 제보를 기다립니다.</p>
                            <p>제보자의 신분은 철저히 보호되며, 제공하신 정보는 취재 이외의 목적으로 사용되지 않습니다. <br>소중한 제보가 꼭 반영될 수 있도록, 휴대폰 번호나 이메일 등 연락할 수 있는 정보를 <br>반드시 남겨주시기 바랍니다</p>
                            <p class="phone">전화제보&nbsp;&nbsp;|&nbsp;&nbsp;02) 789-1289</p>
                        </div>
                        <div class="wrap_table">
                            <form name="memodata" action="http://event.imbc.com/etc/pd/WriteCtrl.asp" enctype="multipart/form-data" method="post" onsubmit="return fSubmit(this);">
                                <div class="box_input">
                                    <label for="usrNm">이름</label>
                                    <input name="USR_NM" id="usrNm" type="text" />
                                </div>
                                <div class="box_input">
                                    <label for="telNo">휴대폰</label>
                                    <input name="TEL_NO" id="telNo" type="text" placeholder="연락가능한 휴대폰 번호를 입력해주세요">
                                </div>
                                <div class="box_input">
                                    <label for="eMail">이메일</label>
                                    <input name="EMAIL" id="eMail" type="text" style="width:595px">
                                </div>
                                <div class="box_input">
                                    <label for="title">제목</label>
                                    <input name="TITLE" id="title" type="text" style="width:100%">
                                </div>
                                <div class="box_input">
                                    <label for="comment">내용</label>
                                    <textarea name="COMMENT" id="comment" rows="9"></textarea>
                                </div>
                                <div class="box_input attach-box">
                                     <input type="text" id="upName" class="upload-name" value="첨부 파일" disabled="disabled">
                                    <label for="upName" class="upName">첨부파일</label>
                                    <label for="filePlus" class="file-plus">찾아보기</label>
                                    <input type="file" id="filePlus" class="filePlus" name="ATTACH" />
                                    <p class="txt-add">이미지/영상파일 <span>최대5M</span>까지 등록할 수 있습니다.</p>
                                </div>
                                <div class="agr-wrap">
                                    <div class="agr-area">   
                                        <h4>개인정보 수집 · 이용 동의 안내</h4>
                                        <div class="agr-txt">
                                            <dl>
                                                <dt>개인정보를 제공받는 업체</dt><dd>㈜ 문화방송</dd>
                                            </dl>
                                            <dl>
                                                <dt>개인정보 이용목적</dt><dd>제보내용에 관한 확인 및 처리등의 업무진행</dd>
                                            </dl>
                                            <dl>
                                                <dt>수집하는 개인정보 항목</dt><dd>이름, 휴대폰번호, 이메일</dd>
                                            </dl>
                                            <dl>
                                                <dt>개인정보의 보유 및 이용 기간</dt><dd>이용목적 달성 후 즉시 파기하나, 보유할 필요가 있는 경우에 한하여 3년간 보유 및 이용</dd>
                                            </dl>
                                           <dl>
                                                <dd>※ 해당 프로그램의 제보는 15세 이상부터 가능합니다. 만 14세 미만은 제보하기가 불가하오니 주의바랍니다.</dd>
                                            </dl> 
                                       </div>
                                    </div>
                                    <div class="check-wrap">
                                        <div class="check-area">
                                            <input type="checkbox" id="agree" name="agree" class="ag-box"/>
                                            <label for="agree" class="ag-txt">개인정보 수집 및 이용에 동의합니다.</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="btn-wrap">
                                    <button type="image" class="btn-submit">참여하기</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        <footer>
            <p>본 콘텐츠의 저작권은 MBC에 있습니다. <br>Copyright(c) Since 1996, MBC&iMBC All rights reserved.</p>
        </footer>
    </div>
    <script type="text/javascript">

            $(document).ready(function(){ 
                var fileTarget = $('.attach-box .filePlus'); 
                fileTarget.on('change', function(){ 
                 if(window.FileReader){ 
                    var filename = $(this)[0].files[0].name; 
                 } else {
                    var filename = $(this).val().split('/').pop().split('\\').pop(); 
                 } 
                 $(this).siblings('.upload-name').val(filename); 
                }); 
            }); 

            function emailCheck (emailStr) {
                    var emailPat=/^(.+)@(.+)$/
                    var specialChars="\\(\\)<>@,;:\\\\\\\"\\.\\[\\]"
                    var validChars="\[^\\s" + specialChars + "\]"
                    var firstChars=validChars
                    var quotedUser="(\"[^\"]*\")"
                    var ipDomainPat=/^\[(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})\]$/
                    var atom="(" + firstChars + validChars + "*" + ")"
                    var word="(" + atom + "|" + quotedUser + ")"
                    var userPat=new RegExp("^" + word + "(\\." + word + ")*$")
                    var domainPat=new RegExp("^" + atom + "(\\." + atom +")*$")
                
                    var matchArray=emailStr.match(emailPat)
                    if (matchArray==null) {
                        alert("E-mail 주소가 정확하지 않습니다.\n @ 와 . 을 확인하십시오")
                        return (false);
                    }
                    var user=matchArray[1]
                    var domain=matchArray[2]
                
                    if (user.match(userPat)==null) {
                        alert("메일 아이디가 정확한 것 같지 않습니다.")
                        return (false);
                    }
                
                    var IPArray=domain.match(ipDomainPat)
                    if (IPArray!=null) {
                          for (var i=1;i<=4;i++) {
                            if (IPArray[i]>255) {
                                alert("IP가 정확하지 않습니다!")
                            return (false);
                            }
                        }
                        return true
                    }
                    var domainArray=domain.match(domainPat)
                    if (domainArray==null) {
                        alert("도메인 이름이 정확한 것 같지 않습니다.")
                        return (false);
                    }
                    var atomPat=new RegExp(atom,"g")
                    var domArr=domain.match(atomPat)
                    var len=domArr.length
                    if (domArr[domArr.length-1].length<2 || 
                        domArr[domArr.length-1].length>3) {
                       alert("도메인명의 국가코드는 2자보타 크고 3자보다 작아야 합니다")
                       return (false);
                    }
                    if (domArr[domArr.length-1].length==2 && len<2) {
                       var errStr="This address ends in two characters, which is a country"
                       errStr+=" code.  Country codes must be preceded by "
                       errStr+="a hostname and category (like com, co, pub, pu, etc.)"
                       alert(errStr)
                       return (false);
                    }
                
                    if (domArr[domArr.length-1].length==3 && len<2) {
                       var errStr="이 주소는 호스트명이 일치하지 않습니다"
                       alert(errStr)
                       return (false);
                    }
                    return true;
                }

            function rtrim(str){
                var endPoint = 0;
                var tmpPoint = 0;
                for(i=0; i<str.length; i++){
                    if(str.substring(i,i+1)==" "){
                        tmpPoint = tmpPoint + 1;
                    }else{
                        endPoint = endPoint + tmpPoint + 1;
                        tmpPoint = 0;
                    }
                }
                return str.substring(0, endPoint);
            }

            function fSubmit(objForm){

                if (objForm.USR_NM.value == "")
                {
                    alert('이름을 입력해 주십시오');
                    objForm.USR_NM.focus();
                    return false;
                }

                if (objForm.TEL_NO.value == "")
                {
                    alert('전화번호를 입력해 주십시오');
                    objForm.TEL_NO.focus();
                    return false;
                }

                if (objForm.EMAIL.value == "")
                {
                    alert('이메일을 입력해 주십시오');
                    objForm.EMAIL.focus();
                    return false;
                }

                if (emailCheck(objForm.EMAIL.value)==false)
                {
                    return false;   
                }

                if (objForm.ADDR.value == "")
                {
                    alert('주소를 입력해 주십시오');
                    objForm.ADDR.focus();
                    return false;
                }

                if (objForm.TITLE.value == "")
                {
                    alert('제목을 입력해 주십시오');
                    objForm.TITLE.focus();
                    return false;
                }


                if (objForm.COMMENT.value == "")
                {
                    alert('내용을 입력해 주십시오');
                    objForm.COMMENT.focus();
                    return false;
                }

                if (objForm.agree.checked == false){
                    alert('개인정보취급방침 동의에 체크하십시오.');
                    objForm.agree.focus();
                    return false;
                }

                if (objForm.ATTACH.value != ""){
                    var strFileNm = objForm.ATTACH.value;
                    var intExtPos = parseInt(strFileNm.lastIndexOf(".")) + 1;
                    var strExt    = strFileNm.substr(intExtPos, 3);
                    var strExt    = strExt.toUpperCase();
                    if (strExt != "ZIP" && strExt != "DOC" && strExt != "HWP" && strExt != "TXT" && strExt != "JPG" && strExt != "GIF" && strExt != "BMP"){
                        alert('ZIP, DOC, HWP, TXT, JPG, GIF, BMP 파일만을 첨부하실 수 있습니다.');
                        return false;
                    }
                }
                return true;
            }

    </script>
</body>
</html>